(function(){var e={6735:function(){window.NotImplementedError=class extends Error{constructor(){super("The method is not implemented."),this.name="NotImplementedError"}},window.GlobalErrorHandler={handled:!1,cleanStart:!1,onerror(e){this.handled||(this.handled=!0,this.cleanStart?(this.stopGame(),this.crash(e)):requestAnimationFrame((()=>this.crash(e))))},stopGame(){function e(e,t){let n=e((()=>{}),9999);while(n--)t(n)}GameKeyboard.disable(),GameIntervals.stop(),e(setInterval,clearInterval),e(setTimeout,clearTimeout),e(requestAnimationFrame,cancelAnimationFrame)},crash(e){void 0!==window.GameUI&&GameUI.initialized&&Modal.show(`${e}<br>Check the console for more details`,{},3)}},window.onerror=(e,t)=>{t.endsWith(".js")&&GlobalErrorHandler.onerror(e)}},6558:function(e,t,n){n(4114),window.EventHub=class e{constructor(){this._handlers={}}on(e,t,n){let r=this._handlers[e];void 0===r&&(r=[],this._handlers[e]=r),r.push({fn:t,target:n})}offAll(e){for(const t of Object.keys(this._handlers))this._handlers[t]=this._handlers[t].filter((t=>t.target!==e))}dispatch(e,t){const n=this._handlers[e];if(void 0!==n)for(const r of n)r.fn(t)}static dispatch(t,...n){e.logic.dispatch(t,n),GameUI.dispatch(t,n)}static get stats(){function t(e){return Object.values(e._handlers).map((e=>e.length)).sum()}return`UI(UPDATE/Total): ${e.ui._handlers[GAME_EVENT.UPDATE].length}/${t(e.ui)}; Logic(Total): ${t(e.logic)}`}},EventHub.logic=new EventHub,EventHub.ui=new EventHub,window.GAME_EVENT={GAME_TICK_AFTER:"GAME_TICK_AFTER",UPDATE:"UPDATE"}},7936:function(){Decimal.prototype.valueOf=()=>{throw new Error("Implicit conversion from Decimal to number")},Decimal.prototype.copy=function(){return Decimal.fromDecimal(this)},Decimal.prototype.copyFrom=function(e){if(!(e instanceof Decimal)&&!(e instanceof DecimalCurrency))throw new Error("Copy value is not Decimal or DecimalCurrency");this.sign=e.sign,this.mag=e.mag,this.layer=e.layer},Decimal.prototype.toJSON=function(){return this.toString()}},3368:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,{Effect:function(){return g},Effects:function(){return w},GameMechanicState:function(){return v}});var i={};n.r(i);var o={};n.r(o),n.d(o,{Amplifier:function(){return Dt},Condenser:function(){return C},Currency:function(){return ht},EnergyMilestone:function(){return Et},FirstReset:function(){return vt},Galaxy:function(){return Mt},GameStorage:function(){return yt},GameUI:function(){return ft},Modal:function(){return gt},Player:function(){return I},guardFromNaNValues:function(){return U},ui:function(){return mt}});var a={};n.r(a),n.d(a,{gameLoop:function(){return Ct},init:function(){return _t}});var s=n(8416),c=n(1529);function l(e){return Object.keys(e).forEach((t=>{const n=e[t];"object"===typeof n&&l(n)})),Object.freeze(e)}window.Decimal=s.A,window.Vue=c.Ay;const u=l({DM1:new Decimal("-1"),D0:new Decimal("0"),EN300:new Decimal("1e-300"),D6E_6:new Decimal("6e-6"),D0_001:new Decimal("0.001"),D0_01:new Decimal("0.01"),D0_1:new Decimal("0.1"),D0_2:new Decimal("0.2"),D0_3:new Decimal("0.3"),D0_4:new Decimal("0.4"),D0_5:new Decimal("0.5"),D0_55:new Decimal("0.55"),D0_8446303389034288:new Decimal("0.8446303389034288"),D0_95:new Decimal("0.95"),D0_965:new Decimal("0.965"),D1:new Decimal("1"),D1_0000109:new Decimal("1.0000109"),D1_00038:new Decimal("1.00038"),D1_0004:new Decimal("1.0004"),D1_0025:new Decimal("1.0025"),D1_005:new Decimal("1.005"),D1_007:new Decimal("1.007"),D1_02:new Decimal("1.02"),D1_0285:new Decimal("1.0285"),D1_1:new Decimal("1.1"),D1_2:new Decimal("1.2"),D1_3:new Decimal("1.3"),D1_33:new Decimal("1.33"),D2:new Decimal("2"),D3:new Decimal("3"),D3_5:new Decimal("3.5"),D4:new Decimal("4"),D5:new Decimal("5"),D6:new Decimal("6"),D7:new Decimal("7"),D8:new Decimal("8"),D6_66:new Decimal("6.66"),D12:new Decimal("12"),D15:new Decimal("15"),D16:new Decimal("16"),D20:new Decimal("20"),D27:new Decimal("27"),D30:new Decimal("30"),D40:new Decimal("40"),D49:new Decimal("49"),D50:new Decimal("50"),D500:new Decimal("500"),D1500:new Decimal("1500"),D3600:new Decimal("3600"),D6666:new Decimal("6666"),D11111:new Decimal("11111"),D3E4:new Decimal("30000"),D2E5:new Decimal("2e5"),D3E5:new Decimal("3e5"),D2E6:new Decimal("2e6"),D5E7:new Decimal("5e7"),D2E9:new Decimal("2e9"),D2E25:new Decimal("2e25"),D6E3:new Decimal("6e3"),D8E3:new Decimal("8e3"),D3E6:new Decimal("3e6"),D2E22222:new Decimal("2e22222"),D9_99999E999:new Decimal("9.99999e999"),D9_9999E9999:new Decimal("9.9999e9999"),C1D1_1245:Decimal.div(1,1.1245),D2P30D0_61:Decimal.pow(2,30/.61),C2P30:Decimal.pow(2,30),C2P1024:Decimal.pow(2,1024),C10P16000D3:Decimal.pow(10,16e3/3),C1D120:Decimal.div(1,120),E1:new Decimal("1e1"),E2:new Decimal("1e2"),E3:new Decimal("1e3"),E4:new Decimal("1e4"),E5:new Decimal("1e5"),E6:new Decimal("1e6"),E8:new Decimal("1e8"),E9:new Decimal("1e9"),E10:new Decimal("1e10"),E12:new Decimal("1e12"),E15:new Decimal("1e15"),E20:new Decimal("1e20"),E25:new Decimal("1e25"),E29:new Decimal("1e29"),E30:new Decimal("1e30"),E31:new Decimal("1e31"),E36:new Decimal("1e36"),E40:new Decimal("1e40"),E43:new Decimal("1e43"),E45:new Decimal("1e45"),E50:new Decimal("1e50"),E55:new Decimal("1e55"),E58:new Decimal("1e58"),E60:new Decimal("1e60"),E63:new Decimal("1e63"),E70:new Decimal("1e70"),E72:new Decimal("1e72"),E75:new Decimal("1e75"),E80:new Decimal("1e80"),E85:new Decimal("1e85"),E90:new Decimal("1e90"),E100:new Decimal("1e100"),E140:new Decimal("1e140"),E150:new Decimal("1e150"),E160:new Decimal("1e160"),E170:new Decimal("1e170"),E175:new Decimal("1e175"),E200:new Decimal("1e200"),E250:new Decimal("1e250"),E256:new Decimal("1e256"),E260:new Decimal("1e260"),E280:new Decimal("1e280"),E300:new Decimal("1e300"),E308:new Decimal("1e308"),E309:new Decimal("1e309"),E310:new Decimal("1e310"),E315:new Decimal("1e315"),E320:new Decimal("1e320"),E340:new Decimal("1e340"),E349:new Decimal("1e349"),E385:new Decimal("1e385"),E400:new Decimal("1e400"),E404:new Decimal("1e404"),E430:new Decimal("1e430"),E450:new Decimal("1e450"),E500:new Decimal("1e500"),E530:new Decimal("1e530"),E550:new Decimal("1e550"),E580:new Decimal("1e580"),E600:new Decimal("1e600"),E616:new Decimal("1e616"),E650:new Decimal("1e650"),E750:new Decimal("1e750"),E820:new Decimal("1e820"),E850:new Decimal("1e850"),E900:new Decimal("1e900"),E925:new Decimal("1e925"),E975:new Decimal("1e975"),E1000:new Decimal("1e1000"),E1100:new Decimal("1e1100"),E1150:new Decimal("1e1150"),E1200:new Decimal("1e1200"),E1300:new Decimal("1e1300"),E1400:new Decimal("1e1400"),E1500:new Decimal("1e1500"),E1650:new Decimal("1e1650"),E1750:new Decimal("1e1750"),E1800:new Decimal("1e1800"),E1900:new Decimal("1e1900"),E2000:new Decimal("1e2000"),E2250:new Decimal("1e2250"),E2350:new Decimal("1e2350"),E2400:new Decimal("1e2400"),E2500:new Decimal("1e2500"),E2650:new Decimal("1e2650"),E2700:new Decimal("1e2700"),E2750:new Decimal("1e2750"),E2800:new Decimal("1e2800"),E2900:new Decimal("1e2900"),E3000:new Decimal("1e3000"),E3200:new Decimal("1e3200"),E3350:new Decimal("1e3350"),E4000:new Decimal("1e4000"),E5000:new Decimal("1e5000"),E6000:new Decimal("1e6000"),E8000:new Decimal("1e8000"),E9000:new Decimal("1e9000"),E10000:new Decimal("1e10000"),E10500:new Decimal("1e10500"),E11000:new Decimal("1e11000"),E11111:new Decimal("1e11111"),E11200:new Decimal("1e11200"),E12000:new Decimal("1e12000"),E13000:new Decimal("1e13000"),E13200:new Decimal("1e13200"),E14000:new Decimal("1e14000"),E15000:new Decimal("1e15000"),E16500:new Decimal("1e16500"),E17500:new Decimal("1e17500"),E18000:new Decimal("1e18000"),E20000:new Decimal("1e20000"),E21000:new Decimal("1e21000"),E22500:new Decimal("1e22500"),E23000:new Decimal("1e23000"),E27000:new Decimal("1e27000"),E28000:new Decimal("1e28000"),E30000:new Decimal("1e30000"),E30008:new Decimal("1e30008"),E32000:new Decimal("1e32000"),E35000:new Decimal("1e35000"),E36000:new Decimal("1e36000"),E37500:new Decimal("1e37500"),E40000:new Decimal("1e40000"),E45000:new Decimal("1e45000"),E50000:new Decimal("1e50000"),E50505:new Decimal("1e50505"),E54000:new Decimal("1e54000"),E60000:new Decimal("1e60000"),E80000:new Decimal("1e80000"),E100000:new Decimal("1e100000"),E110000:new Decimal("1e110000"),E164000:new Decimal("1e164000"),E200000:new Decimal("1e200000"),E201600:new Decimal("1e201600"),E208000:new Decimal("1e208000"),E210000:new Decimal("1e210000"),E300000:new Decimal("1e300000"),E320000:new Decimal("1e320000"),E500000:new Decimal("1e500000"),E1E6:new Decimal("1ee6"),E2E6:new Decimal("1e2e6"),E3E6:new Decimal("1e3e6"),E6E6:new Decimal("1e6e6"),E1E7:new Decimal("1ee7"),E2E7:new Decimal("1e2e7"),E4E7:new Decimal("1e4e7"),E6E7:new Decimal("1e6e7"),E1E8:new Decimal("1ee8"),E1_5E12:new Decimal("1e1.5e12"),E1E15:new Decimal("1ee15")});window.LinearCostScaling=class{constructor(e,t,n,r=Decimal.dNumberMax,i=!1){this._purchases=i?e.div(t).log10().div(Math.log10(n).add(1)).floor().min(r):e.mul(n.sub(1)).div(t).add(1).log10().div(n.log10()).floor().min(r),this._totalCostMultiplier=Decimal.pow(n,this._purchases),this._totalCost=i?t.mul(n.pow(this._purchases.sub(1))):t.mul(u.D1.minus(this._totalCostMultiplier)).div(u.D1.sub(n))}get purchases(){return this._purchases}get totalCostMultiplier(){return this._totalCostMultiplier}get totalCost(){return this._totalCost}};n(7936),n(4114),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698);var f=function(e,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},f(e,t)};function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}const p=function(e,t){function n(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var r=n(t),i={isInfinite:function(e){return!e.isFinite()},exponentCommas:{show:!0,min:1e5,max:1e9},exponentDefaultPlaces:3};function o(e,t){return 0===t?e.slice(-3):e.slice(-3*(t+1),-3*t)}function a(e){return Array.from(Array(Math.ceil(e.length/3))).map((function(t,n){return o(e,n)})).reverse().join(",")}function s(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\w+$/g,a),t.join(".")}const c=5;function l(e){var t=new r["default"](e).normalize(),n=0;if(t.layer>1){const e=t.layer>=c&&!w(t.mag)?0:1;n=t.layer-e,t.layer=e}return{decimal:t,separatorCount:n}}function u(e){var t=e.exponent%3;return{mantissa:e.mantissa*Math.pow(10,t),exponent:e.exponent-t}}var f=["K","M","B","T","Qa","Qt","Sx","Sp","Oc","No"],p=[["","U","D","T","Qa","Qt","Sx","Sp","O","N"],["","Dc","Vg","Tg","Qd","Qi","Se","St","Og","Nn"],["","Ce","Dn","Tc","Qe","Qu","Sc","Si","Oe","Ne"]],h=["","MI-","MC-","NA-","PC-","FM-","AT-","ZP-"];function d(e){var t=e-1;if(-1===t)return"";if(t<f.length)return f[t];var n=[],r=t;while(r>0)n.push(p[n.length%3][r%10]),r=Math.floor(r/10);while(n.length%3!==0)n.push("");for(var i="",o=n.length/3-1;o>=0;o--)i+=n.slice(3*o,3*o+3).join("")+h[o];return i.replace(/-[A-Z]{2}-/g,"-").replace(/U([A-Z]{2}-)/g,"$1").replace(/-$/,"")}function y(e){return e<i.exponentCommas.min}function g(e){return i.exponentCommas.show&&e<i.exponentCommas.max}function w(e){return y(e)||g(e)}function D(e,t,n,i,o,a,s){return void 0===a&&(a="e"),void 0===s&&(s=!1),function(c,u,f){var m=Math.pow(n,i),p=l(c),h=Math.floor(p.decimal.log(m).toNumber())*i;s&&(h=Math.max(h,0));var d=p.decimal.div(r["default"].pow(n,h)).toNumber();if(!(1<=d&&d<m)){var y=Math.floor(Math.log(d)/Math.log(m));d/=Math.pow(m,y),h+=i*y}var g=e(d,u);if(g===e(m,u)&&(g=e(1,u),h+=i),0===h)return g;var D=t(h,f);o&&!w(h)&&(g="");const v="".concat(E(a,p.separatorCount,t,f)).concat(g).concat(a).concat(D);return v}}function v(e,t){return e.toFixed(Math.max(0,t))}function b(e,t){return function(n,r){var i=Math.round(n*Math.pow(e,Math.max(0,r))),o=[];while(i>0||0===o.length)o.push(t[i%e]),i=Math.floor(i/e);var a=o.reverse().join("");return r>0&&(a=a.padStart(r+1,"0"),a="".concat(a.slice(0,-r),".").concat(a.slice(-r))),a}}function E(e,t,n,r){return""===e.trim()&&(e="e"),t<=c?e.repeat(t):"(".concat(e).concat("^").concat(n(t,r)).concat(")")}var M=function(){function e(){}return e.prototype.format=function(e,t,n,o){if(void 0===t&&(t=0),void 0===n&&(n=0),void 0===o&&(o=t),"number"===typeof e&&!Number.isFinite(e))return this.infinite;var a=r["default"].fromValue_noAlloc(e);if(i.isInfinite(a.abs())||!a.isFinite())return a.sign<0?this.negativeInfinite:this.infinite;if(a=a.normalize(),a.abs().lt(1e-300))return a.sign<0?this.formatVerySmallNegativeDecimal(a.abs(),n):this.formatVerySmallDecimal(a,n);if(a.abs().lt(1e3)){var s=a.toNumber();return s<0?this.formatNegativeUnder1000(Math.abs(s),n):this.formatUnder1000(s,n)}return a.sign<0?this.formatNegativeDecimal(a.abs(),t,o):this.formatDecimal(a,t,o)},Object.defineProperty(e.prototype,"negativeInfinite",{get:function(){return"-".concat(this.infinite)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"infinite",{get:function(){return"Infinite"},enumerable:!1,configurable:!0}),e.prototype.formatVerySmallNegativeDecimal=function(e,t){return"-".concat(this.formatVerySmallDecimal(e,t))},e.prototype.formatVerySmallDecimal=function(e,t){return this.formatUnder1000(e.toNumber(),t)},e.prototype.formatNegativeUnder1000=function(e,t){return"-".concat(this.formatUnder1000(e,t))},e.prototype.formatUnder1000=function(e,t){return e.toFixed(t)},e.prototype.formatNegativeDecimal=function(e,t,n){return"-".concat(this.formatDecimal(e,t,n))},e.prototype.formatExponent=function(e,t,n,o){return void 0===t&&(t=i.exponentDefaultPlaces),void 0===n&&(n=function(e,t){return e.toString()}),void 0===o&&(o=Math.max(2,t)),y(e)?n(e,Math.max(t,1)):g(e)?s(n(e,0)):this.formatDecimal(new r["default"](e),o,o)},e}(),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Scientific"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,n){return D(v,this.formatExponent.bind(this),10,1,!1)(e,t,n)},t}(M),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Engineering"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,n){return D(v,this.formatExponent.bind(this),10,3,!1)(e,t,n)},t}(M),x=function(e){function t(t,n,r){void 0===n&&(n=""),void 0===r&&(r="");var i=this;if(t.length<2)throw new Error("The supplied letter sequence must contain at least 2 letters");return i=e.call(this)||this,i.letters=t,i.mantissaExponentSeparator=n,i.separator=r,i}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Custom"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t){var n=l(e),r=u(n.decimal),i=r.mantissa.toFixed(t);return E(this.separator,n.separatorCount,(e=>this.format(e)))+i+this.mantissaExponentSeparator+this.transcribe(r.exponent).join(this.separator)},t.prototype.transcribe=function(e){var t=e/3,n=this.letters.length;if(t<=n)return[this.letters[t-1]];var r=[];while(t>n){var i=t%n,o=(0===i?n:i)-1;r.push(this.letters[o]),t=(t-i)/n,0===i&&t--}return r.push(this.letters[t-1]),r.reverse()},t}(_),A="abcdefghijklmnopqrstuvwxyz",O=function(e){function t(){return e.call(this,A)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Letters"},enumerable:!1,configurable:!0}),t}(x),S=["😠","🎂","🎄","💀","🍆","👪","🌈","💯","🍦","🎃","💋","😂","🌙","⛔","🐙","💩","❓","☢","🙈","👍","☂","✌","⚠","❌","😋","⚡"],N=function(e){function t(){return e.call(this,S)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Emoji"},enumerable:!1,configurable:!0}),t}(x),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="Standard",t}return m(t,e),t.prototype.formatDecimal=function(e,t,n){return D(v,d,1e3,1,!1," ",!0)(e,t,n)},t}(M),j=new P,F=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Mixed scientific"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,n){return e.lt(1e33)?j.formatDecimal(e,t,n):D(v,this.formatExponent.bind(this),10,1,!1)(e,t,n)},t}(M),I=new P,U=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Mixed engineering"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,n){return e.exponent<33?I.formatDecimal(e,t,n):D(v,this.formatExponent.bind(this),10,3,!1)(e,t,n)},t}(M),V=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Logarithm"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t,n){const r=l(e);var i=r.decimal.log10().toNumber();return E("e",r.separatorCount+1,this.formatExponent,t).concat(this.formatExponent(i,t,(function(e,t){return e.toFixed(t)}),n))},t}(M),k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Brackets"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e){const t=l(e);var n=t.decimal.log10().toNumber(),r=[")","[","{","]","(","}"],i=Math.LN10/Math.log(6)*n,o=Math.floor(i),a=i-o,s=Math.floor(36*a),c="";while(o>=6){var u=o%6;o-=u,o/=6,c=r[u]+c}return c=E("e",t.separatorCount+1,(e=>this.formatDeciml(e)),null).concat(r[o]).concat(c,"."),c+=r[Math.floor(s/6)],c+=r[s%6],c},t}(M),B=Math.log10(Number.MAX_VALUE),G=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Infinity"},enumerable:!1,configurable:!0}),t.prototype.formatDecimal=function(e,t){var n=e.log10(),r=n.div(B),o=r.lt(1e3)?4:3,a=r.toFixed(Math.max(o,t));return i.exponentCommas.show?"".concat(s(a),"∞"):"".concat(a,"∞")},t}(M),T=[[1e6,"M̄"],[9e5,"C̄M̄"],[5e5,"D̄"],[4e5,"C̄D̄"],[1e5,"C̄"],[9e4,"X̄C̄"],[5e4,"L̄"],[4e4,"X̄L̄"],[1e4,"X̄"],[9e3,"ⅯX̄"],[5e3,"V̄"],[4e3,"ⅯV̄"],[1e3,"Ⅿ"],[900,"ⅭⅯ"],[500,"Ⅾ"],[400,"ⅭⅮ"],[100,"Ⅽ"],[90,"ⅩⅭ"],[50,"Ⅼ"],[40,"ⅩⅬ"],[10,"Ⅹ"],[9,"ⅠⅩ"],[5,"Ⅴ"],[4,"ⅠⅤ"],[1,"Ⅰ"]],R=["","·",":","∴","∷","⁙"],L=4e6,q=Math.log10(L),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Roman"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"Infinitus"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.romanize(e)},t.prototype.formatDecimal=function(e){if(e.lt(L))return this.romanize(e.toNumber());const t=l(e);var n=t.decimal.log10().toNumber(),i=n/q,o=Math.pow(L,i-Math.floor(i));return E("e",t.separatorCount,this.romanize,null).concat(this.romanize(o),"↑").concat(this.formatDecimal(new r["default"](i)))},t.prototype.romanize=function(e){for(var t="",n=0,r=T;n<r.length;n++){var i=r[n],o=i[0],a=i[1];while(o<=e)t+=a,e-=o}var s=Math.round(1.2*Math.floor(10*e));return 0===s?""===t?"nulla":t:(s>5&&(s-=6,t+="Ｓ"),t+=R[s],t)},t}(M),H="⠀⠁⠂⠃⠄⠅⠆⠇⠈⠉⠊⠋⠌⠍⠎⠏⠐⠑⠒⠓⠔⠕⠖⠗⠘⠙⠚⠛⠜⠝⠞⠟⠠⠡⠢⠣⠤⠥⠦⠧⠨⠩⠪⠫⠬⠭⠮⠯⠰⠱⠲⠳⠴⠵⠶⠷⠸⠹⠺⠻⠼⠽⠾⠿⡀⡁⡂⡃⡄⡅⡆⡇⡈⡉⡊⡋⡌⡍⡎⡏⡐⡑⡒⡓⡔⡕⡖⡗⡘⡙⡚⡛⡜⡝⡞⡟⡠⡡⡢⡣⡤⡥⡦⡧⡨⡩⡪⡫⡬⡭⡮⡯⡰⡱⡲⡳⡴⡵⡶⡷⡸⡹⡺⡻⡼⡽⡾⡿⢀⢁⢂⢃⢄⢅⢆⢇⢈⢉⢊⢋⢌⢍⢎⢏⢐⢑⢒⢓⢔⢕⢖⢗⢘⢙⢚⢛⢜⢝⢞⢟⢠⢡⢢⢣⢤⢥⢦⢧⢨⢩⢪⢫⢬⢭⢮⢯⢰⢱⢲⢳⢴⢵⢶⢷⢸⢹⢺⢻⢼⢽⢾⢿⣀⣁⣂⣃⣄⣅⣆⣇⣈⣉⣊⣋⣌⣍⣎⣏⣐⣑⣒⣓⣔⣕⣖⣗⣘⣙⣚⣛⣜⣝⣞⣟⣠⣡⣢⣣⣤⣥⣦⣧⣨⣩⣪⣫⣬⣭⣮⣯⣰⣱⣲⣳⣴⣵⣶⣷⣸⣹⣺⣻⣼⣽⣾⣿",X=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Dots"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"⣿⠀⣿"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.dotify(254*e)},t.prototype.formatDecimal=function(e){if(e.lt(16387063.9980315))return this.dotify(254*e.toNumber());const t=l(e);var n=t.decimal.log(254).toNumber(),r=Math.floor(n-2),i=Math.pow(254,n-r);return E("e",t.separatorCount,this.dotify,null).concat(this.dotify(r),"⣿").concat(this.dotify(254*i))},t.prototype.dotify=function(e,t){void 0===t&&(t=!1);var n=Math.round(e);return!t&&n<254?H[n+1]:n<64516?H[Math.floor(n/254)+1]+H[n%254+1]:this.dotify(Math.floor(n/64516))+this.dotify(n%64516,!0)},t}(M),z=["̍","̶","͓","̿","҉","̰","̚","̸","͚","̷"],K=["H","E"," ","C","O","M","E","S"];function Q(e){return e[Math.floor(Math.random()*e.length)]}for(var W=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Zalgo"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return K.map((function(e){return e+Q(z)})).join("")},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.heComes(new r["default"](e))},t.prototype.formatDecimal=function(e){return this.heComes(e)},t.prototype.heComes=function(e){const t=l(e);for(var n=t.decimal.plus(1).log10().toNumber(),r=n/66666*1e3,i=Number(r.toFixed(2)),o=Math.floor(Math.abs(Math.pow(2,30)*(r-i))),a=Array.from(E("e",t.separatorCount,s).concat(s(i))),c=Array.from(o.toString()+r.toFixed(0)),u=0;u<c.length;u++){var f=parseInt(c[u],10),m=37*u%a.length;a[m]+=z[f]}return a.join("")},t}(M),Z={positive:0,negative:1},J=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Hex"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return"00000000"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"FFFFFFFF"},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(e){return this.formatDecimal(e.negate())},t.prototype.formatVerySmallDecimal=function(e){return this.formatDecimal(e)},t.prototype.formatNegativeUnder1000=function(e){return this.formatDecimal(new r["default"](-e))},t.prototype.formatUnder1000=function(e){return this.formatDecimal(new r["default"](e))},t.prototype.formatNegativeDecimal=function(e){return this.formatDecimal(e.negate())},t.prototype.formatDecimal=function(e){return this.rawValue(e,32).toString(16).toUpperCase().padStart(8,"0")},t.prototype.modifiedLogarithm=function(e){var t=r["default"].log2(e).floor(),n=r["default"].pow(2,t),i=r["default"].div(e,n).minus(1);return t.plus(i)},t.prototype.isFinite=function(e){return"number"===typeof e?isFinite(e):isFinite(e.e)&&isFinite(e.mantissa)},t.prototype.rawValue=function(e,t){for(var n=e,i=[],o=0;o<t;o++){if(!this.isFinite(n))break;r["default"].lt(n,0)?(i.push(Z.negative),n=this.modifiedLogarithm(r["default"].times(n,-1)).neg()):(i.push(Z.positive),n=this.modifiedLogarithm(n))}var a=parseInt(i.map((function(e){return e===Z.positive?1:0})).join("").padEnd(t,"0"),2);return a!==Math.pow(2,t)-1&&(n.gt(0)||n.eq(0)&&a%2===1)&&(a+=1),a},t}(M),Y=[[0,"pL",0],[61611520,"minim",0],[3696691200,"dram",1],[29573529600,"ounce",2],[118294118400,"gill",2],[236588236800,"cup",3],[473176473600,"pint",4],[946352947200,"quart",4],[3785411788800,"gallon",4],[0xf7e1e900000,"pin",3],[34068706099200,"firkin",3],[68137412198400,"kilderkin",4],[0x7bf0f4800000,"barrel",4],[0xb9e96ec00000,"hogshead",5],[0xf7e1e9000000,"puncheon",6],[408824473190400,"butt",7],[817648946380800,"tun",7]],ee=Y[1],te=["minute ","tiny ","petite ","small ","modest ","medium ","generous ","large ","great ","grand ","huge ","gigantic ","immense ","colossal ","vast ","galactic ","cosmic ","infinite ","eternal "],ne=new Set("aeiouAEIOU"),re=10*Y[Y.length-1][0],ie=Math.log10(re),oe=Math.log10(re/ee[0]),ae=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Imperial (Incomplete)"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.formatDecimal(new r["default"](e))},t.prototype.formatDecimal=function(e){if(e.lt(re))return this.convertToVolume(e.toNumber(),te[0]);var t=e.log10()-ie,n=1;while(t>oe)n++,t/=oe;return this.convertToVolume(Math.pow(10,t)*ee[0],te[n])},t.prototype.convertToVolume=function(e,t){var n=this.findVolumeUnit(e);if(0===n)return this.formatMetric(e);var r=this.checkSmallUnits(t,e,n);if(void 0!==r)return r;var i=Y[n],o=Math.floor(e/i[0]),a=e-o*i[0];if(n<Y.length-1){var s=this.checkAlmost(t,e,0,n+1);if(void 0!==s)return s}var c=this.checkAlmost(t,a,o,n);if(void 0!==c)return c;if(a<Y[n-i[2]][0])return this.pluralOrArticle(o,t+i[1]);for(var l=Math.floor(a/Y[n-1][0]),u=n-1,f=a-l*Y[n-1][0],m=n-2;m>0&&m>n-i[2];--m){var p=Y[m],h=Math.floor(a/p[0]);if(h>9&&1!==m)break;var d=a-h*p[0];d<.99*f&&(l=h,u=m,f=d)}return this.bigAndSmall(t,o,i,l,Y[u])},t.prototype.formatMetric=function(e){return e<1e3?"".concat(e<10||e===Math.round(e)?e.toFixed(2):e.toFixed(0),"pL"):e<1e6?"".concat((e/1e3).toPrecision(4),"nL"):"".concat((e/1e6).toPrecision(4),"μL")},t.prototype.checkSmallUnits=function(e,t,n){var r=Y[n];if(n<=3&&t+9.5*ee[0]>Y[n+1][0])return this.almostOrShortOf(t,e,1,Y[n+1],ee);if(1===n){var i=Math.round(10*t/r[0]);if(10===i)return this.addArticle(e+r[1]);var o=i<100?1:0;return"".concat((i/10).toFixed(o)," ").concat(e).concat(r[1],"s")}if(2===n){var a=Math.floor(t/r[0]),s=t-a*r[0];if(s>50.5*ee[0])return this.almostOrShortOf(t,e,a+1,r,ee);var c=Math.round(s/ee[0]);return this.bigAndSmall(e,a,r,c,ee)}},t.prototype.findVolumeUnit=function(e){var t=0,n=Y.length,r=0;while(n-t>1)r=Math.floor((t+n)/2),Y[r][0]>e?n=r:t=r;return t},t.prototype.checkAlmost=function(e,t,n,r){var i=Y[r];if(t+Y[r-i[2]][0]>=i[0])return this.almost(e,n+1,i);var o=Y[r+1-i[2]];return t+o[0]>=i[0]?this.shortOf(e,n+1,i,1,o):void 0},t.prototype.bigAndSmall=function(e,t,n,r,i){var o=this.pluralOrArticle(t,e+n[1]);return 0===r?o:"".concat(o," and ").concat(this.pluralOrArticle(r,i[1]))},t.prototype.almost=function(e,t,n){return"almost ".concat(this.pluralOrArticle(t,e+n[1]))},t.prototype.almostOrShortOf=function(e,t,n,r,i){var o=Math.round((n*r[0]-e)/i[0]);return 0===o?this.almost(t,n,r):this.shortOf(t,n,r,o,i)},t.prototype.shortOf=function(e,t,n,r,i){return"".concat(this.pluralOrArticle(r,i[1])," short of ").concat(this.pluralOrArticle(t,e+n[1]))},t.prototype.pluralOrArticle=function(e,t){return 1===e?this.addArticle(t):"".concat(e," ").concat(t,"s")},t.prototype.addArticle=function(e){return(ne.has(e[0])?"an ":"a ")+e},t}(M),se=["🕛","🕐","🕑","🕒","🕓","🕔","🕕","🕖","🕗","🕘","🕙","🕚"],ce=Math.log10(12),le=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Clock"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"🕛🕡"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.clockwise(new r["default"](e))},t.prototype.formatDecimal=function(e){return this.clockwise(e)},t.prototype.clockwise=function(e){if(e.lt(12))return this.hour(e.toNumber());var t=e.log10()/ce,n=Math.floor(t);if(t<301){var r=(Math.pow(12,t-n+1)-12)/11;if(n<13)return this.hour(n-1)+this.hour(r);n-=13;var i="";return n>=144&&(i=this.hour(0),n-=144),i+this.hour(n/12)+this.hour(n%12)+this.hour(r)}n-=301;var o=1;while(n>=1728)n=(n-1728)/12,++o;return this.hour(o)+this.hour(n/144)+this.hour(n%144/12)+this.hour(n%12)},t.prototype.hour=function(e){return se[Math.max(Math.min(Math.floor(e),11),0)]},t}(M),ue=10006,fe=new r["default"](ue),me=Math.log10(ue),pe=[],he=new Array(ue).fill(!1),de=Math.ceil(Math.sqrt(ue)),ye=2;ye<de;ye++)if(!he[ye]){pe.push(ye);for(var ge=ye;ge<=ue;ge+=ye)he[ge]=!0}for(ye=de;ye<ue;ye++)he[ye]||pe.push(ye);for(var we,De=pe.length-1,ve=pe[De],be=["⁰","¹","²","³","⁴","⁵","⁶","⁷","⁸","⁹","¹⁰","¹¹","¹²","¹³"],Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Prime"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"Primefinity?"},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.primify(new r["default"](e))},t.prototype.formatDecimal=function(e){return this.primify(e)},t.prototype.primify=function(e){if(e.lte(fe)){var t=Math.floor(e.toNumber());return 0===t?"0":1===t?"1":this.formatFromList(this.primesFromInt(t))}var n=e.log10()/me,r=Math.pow(ue,n/Math.ceil(n));if(n<=ue)return this.formatBaseExp(r,n);var i=Math.log10(n)/Math.log10(ue),o=Math.ceil(i);n=Math.pow(ue,i/o),r=Math.pow(ue,n/Math.ceil(n));var a=this.primesFromInt(o),s=1===a.length?be[a[0]]:"^(".concat(this.formatFromList(a),")");return this.formatBaseExp(r,n)+s},t.prototype.formatBaseExp=function(e,t){var n=this.formatFromList(this.primesFromInt(Math.floor(e))),r=this.formatFromList(this.primesFromInt(Math.ceil(t)));return"(".concat(n,")^(").concat(r,")")},t.prototype.formatFromList=function(e){for(var t=[],n=0,r=0,i=0;i<e.length;i++)e[i]===n?r++:(n>0&&(r>1?t.push("".concat(n).concat(be[r])):t.push(n)),n=e[i],r=1),i===e.length-1&&(r>1?t.push("".concat(e[i]).concat(be[r])):t.push(e[i]));return t.join("×")},t.prototype.findGreatestLtePrimeIndex=function(e){if(e>=ve)return De;var t=0,n=De;while(n!==t+1){var r=Math.floor((n+t)/2),i=pe[r];if(i===e)return r;e<i?n=r:t=r}return t},t.prototype.primesFromInt=function(e){var t=[],n=e;while(1!==n){var r=this.findGreatestLtePrimeIndex(n),i=pe[r];if(i===n){t.push(n);break}var o=n/2,a=this.findGreatestLtePrimeIndex(o),s=void 0;while(void 0===s){var c=pe[a--];n%c===0&&(s=c)}n/=s,t.push(s)}return t.reverse()},t}(M),Me=["","","","","","","",""],Ce=["","","","","","","",""],_e=Math.log(8),xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Bar"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return""},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return""},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(e){return this.flipBars(this.formatDecimal(e))},t.prototype.formatVerySmallDecimal=function(e){return this.formatDecimal(e)},t.prototype.formatNegativeUnder1000=function(e){return this.flipBars(this.formatDecimal(new r["default"](e)))},t.prototype.formatUnder1000=function(e){return this.formatDecimal(new r["default"](e))},t.prototype.formatNegativeDecimal=function(e){return this.flipBars(this.formatDecimal(e))},t.prototype.formatDecimal=function(e){if(e.eq(0))return"0";if(e.lessThan(1)&&e.greaterThan(0))return"/".concat(this.formatDecimal(r["default"].div(1,e)));var t=Math.LN10/_e*e.log10(),n=Math.floor(t),i=t-n,o=Math.floor(64*i),a=[Me[o%8],Me[Math.floor(o/8)]];while(n>=8){var s=n%8;n=(n-s)/8,a.push(Me[s])}return a.push(Me[n]),a.join("")},t.prototype.flipBars=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];t.push(Ce[Me.indexOf(i)])}return t.join("")},t}(M),Ae="世使侍勢十史嗜士始室實屍市恃拭拾施是時氏濕獅矢石視試詩誓識逝適釋食",Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Shi"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return this.shi(r["default"].NUMDecimalR_MAX_VALUE)},enumerable:!1,configurable:!0}),t.prototype.formatUnder1000=function(e){return this.shi(new r["default"](e))},t.prototype.formatDecimal=function(e){return this.shi(e)},t.prototype.getShiCharacter=function(e){return Ae[Math.floor(e)%Ae.length]},t.prototype.shi=function(e){for(var t=Math.pow(1e3*e.plus(1).log10(),.08),n="",r=0;r<3;r++)n+=this.getShiCharacter(t*Math.pow(Ae.length,r));return n},t}(M),Se=23,Ne="",Pe=null!==(we=Ne.codePointAt(0))&&void 0!==we?we:65,je="",Fe="",Ie=[],Ue=0;Ue<Se;Ue++){var Ve=String.fromCharCode(Pe+Ue);Ie.push(Ve)}var ke=Math.log10(3),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Blobs"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return"".concat(je)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return"".concat(Fe).concat(je)},enumerable:!1,configurable:!0}),t.prototype.formatNegativeUnder1000=function(e){return"".concat(Fe).concat(this.blobify(new r["default"](e-1)))},t.prototype.formatNegativeDecimal=function(e){return"".concat(Fe).concat(this.blobify(e.minus(1)))},t.prototype.formatUnder1000=function(e){return this.blobify(new r["default"](e))},t.prototype.formatDecimal=function(e){return this.blobify(e)},t.prototype.blobify=function(e){var t=this.reduceNumber(e.abs());return t<Se?Ie[Math.floor(t)]:Math.floor(t/Se)<Se+1?Ie[Math.floor(t/Se)-1]+Ie[Math.floor(t%Se)]:this.blobify(r["default"].floor(t/Se-1))+Ie[Math.floor(t%Se)]},t.prototype.reduceNumber=function(e){return e.lte(1e3)?e.toNumber():(Math.log10(e.log10())-ke)/Math.log10(1.0002)+1e3},t}(M),Ge=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"Blind"},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"negativeInfinite",{get:function(){return" "},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infinite",{get:function(){return" "},enumerable:!1,configurable:!0}),t.prototype.formatVerySmallNegativeDecimal=function(){return" "},t.prototype.formatVerySmallDecimal=function(){return" "},t.prototype.formatNegativeUnder1000=function(){return" "},t.prototype.formatUnder1000=function(){return" "},t.prototype.formatNegativeDecimal=function(){return" "},t.prototype.formatDecimal=function(){return" "},t}(M),Te=[new C,new O,new P,new V,new k,new G,new $,new X,new W,new J,new ae,new le,new Ee,new xe,new Oe,new Be,new Ge],Re=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),Object.defineProperty(t.prototype,"name",{get:function(){return"ALL"},enumerable:!1,configurable:!0}),t.prototype.formatNegativeUnder1000=function(e,t){return this.formatDecimal(new r["default"](-e),t)},t.prototype.formatUnder1000=function(e,t){return this.formatDecimal(new r["default"](e),t)},t.prototype.formatNegativeDecimal=function(e,t){return this.formatDecimal(new r["default"](-e),t)},t.prototype.formatDecimal=function(e,t){var n=Math.floor(Math.log2(e.abs().plus(2).log2())),r=Te[n%Te.length];return r.format(e,t,t)},t}(M);return e.AllNotation=Re,e.BarNotation=xe,e.BlindNotation=Ge,e.BlobsNotation=Be,e.BracketsNotation=k,e.ClockNotation=le,e.CustomNotation=x,e.DotsNotation=X,e.EmojiNotation=N,e.EngineeringNotation=_,e.HexNotation=J,e.ImperialNotation=ae,e.InfinityNotation=G,e.LettersNotation=O,e.LogarithmNotation=V,e.MixedEngineeringNotation=U,e.MixedScientificNotation=F,e.Notation=M,e.PrimeNotation=Ee,e.RomanNotation=$,e.ScientificNotation=C,e.Settings=i,e.ShiNotation=Oe,e.StandardNotation=P,e.ZalgoNotation=W,e.abbreviateStandard=d,e.formatMantissa=b,e.formatMantissaBaseTen=v,e.formatMantissaWithExponent=D,Object.defineProperty(e,"__esModule",{value:!0}),e}({},Decimal),h=new p.MixedScientificNotation,d=/\B(?=(\d{3})+(?!\d))/gu;function y(e){const t=e.toString().split(".");return t[0]=t[0].replace(d,","),t.join(".")}window.format=function(e,t,n){return player.formatEND?"END":h.format(e,t,n,3)},window.formatInt=function(e){return player.formatEND?"END":"number"===typeof e&&e<=1e9?y(e.toFixed(0)):format(e)},window.formatX=function(e,t,n){return`×${format(e,t,n)}`},window.formatPow=function(e,t,n){return`^${format(e,t,n)}`},window.formatPercents=function(e,t,n){return`${format(100*e,t,n)}%`};n(6735),n(6558);class g{constructor(e,t,n){if(void 0===e||this.isCustomEffect)return;const r=e=>"function"===typeof e,i=e=>"number"===typeof e,o=e=>e instanceof Decimal,a=e=>i(e)||o(e);if(!r(e)&&!a(e))throw new Error("Unknown effect value type.");const s=()=>({configurable:!1}),c=(e,t)=>{if(a(t))e.writable=!1,e.value=t;else{if(!r(t))throw new Error("Unknown getter type.");e.get=t}};if(void 0!==n){if(!r(n))throw new Error("Effect condition must be a function.");const e=s();e.get=n,Object.defineProperty(this,"isEffectConditionSatisfied",e)}const l=s();if(c(l,e),Object.defineProperty(this,"uncappedEffectValue",l),void 0!==t){const e=s();c(e,t),Object.defineProperty(this,"cap",e)}const u=s();c(u,e),a(t)?i(e)?u.get=()=>Math.min(e,this.cap):o(e)?u.get=()=>Decimal.min(e,this.cap):r(e)&&(u.configurable=!0,u.get=()=>{const t=e(),n=s();if(i(t))n.get=()=>Math.min(e(),this.cap);else{if(!o(t))throw new Error("Unknown effect value type.");n.get=()=>Decimal.min(e(),this.cap)}return Object.defineProperty(this,"effectValue",n),n.get()}):r(t)&&(i(e)?u.get=()=>{const t=this.cap;return void 0===t?e:Math.min(e,t)}:o(e)?u.get=()=>{const t=this.cap;return void 0===t?e:Decimal.min(e,t)}:r(e)&&(u.configurable=!0,u.get=()=>{const t=e(),n=s();if(i(t))n.get=()=>{const t=this.cap;return void 0===t?e():Math.min(e(),t)};else{if(!o(t))throw new Error("Unknown effect value type.");n.get=()=>{const t=this.cap;return void 0===t?e():Decimal.min(e(),t)}}return Object.defineProperty(this,"effectValue",n),n.get()})),Object.defineProperty(this,"effectValue",u)}get effectValue(){throw new Error("Effect is undefined.")}get uncappedEffectValue(){throw new Error("Effect is undefined.")}get cap(){throw new Error("Cap is undefined.")}get isEffectConditionSatisfied(){return!0}get isEffectActive(){return!0}get canBeApplied(){return this.isEffectActive&&this.isEffectConditionSatisfied}effectOrDefault(e){return this.canBeApplied?this.effectValue:e}applyEffect(e){this.canBeApplied&&e(this.effectValue)}get isCustomEffect(){return!1}}const w={sum(...e){let t=u.D0;return D(e,(e=>t=t.plus(e))),t},product(...e){let t=u.D1;return D(e,(e=>t=t.times(e))),t},last(e,...t){let n=e,r=!1;const i=t.filter((e=>null!==e&&void 0!==e)).reverse(),o=e=>{n=e,r=!0};for(const a of i)if(a.applyEffect(o),r)break;return n},max(e,...t){let n=new Decimal(e);return D(t,(e=>n=Decimal.max(n,e))),n},min(e,...t){let n=new Decimal(e);return D(t,(e=>n=Decimal.min(n,e))),n}};function D(e,t){for(const n of e)null!==n&&void 0!==n&&n.applyEffect(t)}Decimal.prototype.plusEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.plus(e))),t},Decimal.prototype.plusEffectsOf=function(...e){let t=this;return D(e,(e=>t=t.plus(e))),t},Decimal.prototype.minusEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.minus(e))),t},Decimal.prototype.minusEffectsOf=function(...e){let t=this;return D(e,(e=>t=t.minus(e))),t},Decimal.prototype.timesEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.times(e))),t},Decimal.prototype.timesEffectsOf=function(...e){let t=this;return D(e,(e=>t=t.times(e))),t},Decimal.prototype.dividedByEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.dividedBy(e))),t},Decimal.prototype.dividedByEffectsOf=function(...e){let t=this;return D(e,(e=>t=t.dividedBy(e))),t},Decimal.prototype.powEffectOf=function(e){let t=this;return e.applyEffect((e=>t=t.pow(e))),t},Decimal.prototype.powEffectsOf=function(...e){let t=this;return D(e,(e=>t=t.pow(e))),t};class v extends g{constructor(e){if(!e)throw new Error("Must specify config for GameMechanicState");if(super(e.effect,e.cap,e.effectCondition),this._config=e,void 0!==e.effects){this.effects={};for(const t in e.effects){const n=e.effects[t];let r;r="number"===typeof n||"function"===typeof n||n instanceof BE?new g(n):new g(n.effect,n.cap,n.effectCondition),Object.defineProperty(r,"isEffectActive",{configurable:!1,get:()=>this.isEffectActive}),this.effects[t]=r}}}get config(){return this._config}get id(){return this.config.id}registerEvents(e,t){if(void 0!==e)for(const n of e instanceof Array?e:[e])EventHub.logic.on(n,t,this)}static createAccessor(e){const t=mapGameData(e,(e=>new this(e))),n=e=>t[e];return n.index=t,n}}const b={multFromSingulatities:{description:()=>`每拥有 ${formatX(20)} 倍的奇点，凝聚速度 ${formatX(2)}`,effect:()=>u.D2.pow((EnergyMilestone.qols.canBeApplied?player.maxSingularities:player.singularities).add(1).log(20).floor()),formatEffect:e=>formatX(e,2),requirement:u.D1},improveAmplifier:{description:"增幅器加成自身",effect:()=>Amplifier.amount.pow(2).div(2).add(1),formatEffect:e=>formatX(e,2,2),requirement:u.D2},energyBoost:{description:"能量加成凝聚速度",effect:()=>u.D5.pow(Currency.energy.value.sqrt()),formatEffect:e=>formatX(e,2,2),requirement:u.D3},unlockGalaxy:{description:"解锁星系",requirement:u.D6},qols:{description:"解锁凝聚器和增幅器的最大化购买，第一个里程碑始终以最大点数为基础",requirement:u.E1},improveAmplifier2:{description:()=>"速度增幅从多项式增长变为指数增长",requirement:u.D12},galaxyBoost:{description:()=>`星系增强 ${formatPercents(.5)}`,effect:1.5,requirement:u.D27},galaxyCheaper:{description:()=>`星系价格 ${formatX(.8,0,1)}`,effect:.8,requirement:u.D40}},E={energyMilestones:b};window.GameDatabase=E,window.mapGameData=function(e,t){const n=[];for(const r of e)n[r.id]=t(r);return n},window.mapGameDataToObject=function(e,t){const n=Object.entries(e),r={};for(let i=0;i<n.length;i++)r[n[i][0]]=t(n[i][1]);return{all:Object.values(r),...r}};class M{get amount(){return player.condensers}set amount(e){player.condensers=e}get productionPerSecond(){let e=this.amount.pow(Galaxy.effect);return e=e.times(Amplifier.multiplier),e=e.timesEffectsOf(EnergyMilestone.multFromSingulatities,EnergyMilestone.energyBoost),e}tick(e){Currency.singularities.add(this.productionPerSecond.times(e))}get cost(){return u.D5.pow(this.amount)}get isAffordable(){return Currency.singularities.gte(this.cost)}purchase(){this.isAffordable&&(Currency.singularities.subtract(this.cost),this.amount=this.amount.add(1))}buyMax(){if(!this.isAffordable)return;const e=new LinearCostScaling(Currency.singularities.value,this.cost,u.D5);e.purchases.lte(0)||(Currency.singularities.subtract(e.totalCost),this.amount=this.amount.add(e.purchases))}}const C=new M;function _(e){return Array.isArray(e)?[]:{}}function x(e,t){return e instanceof Decimal?new Decimal(e):e instanceof Set?new Set(e):!1!==t.clone&&t.isMergeableObject(e)?S(_(e),e,t):e}function A(e,t,n){return e.concat(t).map((e=>x(e,n)))}function O(e,t,n){const r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((t=>{r[t]=x(e[t],n)})),Object.keys(t).forEach((i=>{e[i]&&e[i]instanceof Decimal?r[i]=new Decimal(t[i]):e[i]&&e[i]instanceof Set?r[i]=new Set(t[i]):n.isMergeableObject(t[i])&&e[i]?r[i]=S(e[i],t[i],n):r[i]=x(t[i],n)})),r}function S(e,t,n={}){if(n.arrayMerge=n.arrayMerge||A,n.isMergeableObject=n.isMergeableObject||P,e instanceof Decimal)return new Decimal(t);if(e instanceof Set)return new Set(t);const r=Array.isArray(t),i=Array.isArray(e),o=r===i;return o?r?n.arrayMerge(e,t,n):O(e,t,n):x(t,n)}function N(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");if(!t){const e=(e,t,n)=>t.map(((t,r)=>e[r]&&e[r]instanceof Decimal?new Decimal(t):e[r]&&e[r]instanceof Set?new Set(t):n.isMergeableObject(t)&&e[r]?S(e[r],t,n):x(t,n)));t={arrayMerge:e}}return e.reduce(((e,n)=>S(e,n,t)),{})}function P(e){return j(e)&&!F(e)}function j(e){return Boolean(e)&&"object"===typeof e}function F(e){const t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t}window.player={singularities:u.D1,condensers:u.D0,amplifiers:u.D0,maxSingularities:u.D1,energy:u.D0,galaxies:u.D0,formatEND:!1,lastUpdate:Date.now()};const I={defaultStart:N([{},player])};function U(e){function t(e){return null!==e&&"object"===typeof e&&!(e instanceof Decimal)}for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;let r=e[n];t(r)?U(r):("number"===typeof r&&Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r,set:function(e){if(null===e||void 0===e)throw new Error("null/undefined player property assignment");if("number"!==typeof e)throw new Error("Non-Number assignment to Number player property");if(!isFinite(e))throw new Error("NaN player property assignment");r=e}}),r instanceof Decimal&&Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>r,set:function(e){if(null===e||void 0===e)throw new Error("null/undefined player property assignment");if(!(e instanceof Decimal))throw new Error("Non-Decimal assignment to Decimal player property");if(!isFinite(e.mag)||!isFinite(e.layer)||!isFinite(e.sign))throw new Error("NaN player property assignment");r=e}}))}}var V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"l-game-ui"},[t("div",{staticClass:"o-app-bar"}),t("MainContent")],1)},k=[],B=function(){var e=this,t=e._self._c;return t("div",{staticClass:"l-main-content"},[t("MessageModal"),t("SaveInfo"),t("div",{staticClass:"l-game-header-resources"},[e.firstResetUnlocked?t("div",[e._v("你拥有 "),t("span",{staticClass:"c-energy-amount"},[e._v(e._s(e.format(e.energy,2)))]),e._v(" 能量。")]):e._e(),t("div",[e._v("你拥有 "),t("span",{staticClass:"c-singularity-amount"},[e._v(e._s(e.format(e.singularities,2,1)))]),e._v(" 个奇点。")])]),t("div",{staticClass:"l-main-upgrade-row"},[t("CondenserButton"),t("div",{staticClass:"o-row-space"}),t("AmplifierButton")],1),e.galaxyUnlocked?t("GalaxyContainer"):e._e(),t("div",{staticClass:"o-line"}),t("FirstResetButton"),e.firstResetUnlocked?t("div",{staticClass:"c-energy-milestone-container"},[t("div",{staticClass:"c-energy-milestone-title"},[e._v("能量里程碑")]),e._l(e.energyMilestones,(function(e,n){return t("div",{key:n+"row-energy-milstone",staticClass:"l-energy-milestone-row"},[t("EnergyMilestoneComponent",{attrs:{milestone:e[0]}}),t("div",{staticClass:"o-row-space"}),t("EnergyMilestoneComponent",{attrs:{milestone:e[1]}})],1)}))],2):e._e()],1)},G=[],T=function(){var e=this,t=e._self._c;return t("PrimaryButton",{staticClass:"o-main-upgrade-btn",attrs:{enabled:e.isAffordable},on:{click:e.purchase}},[t("span",[e._v("凝聚器")]),t("br"),t("span",[e._v("当前: +"+e._s(e.format(e.effect,2))+" 奇点/秒")]),t("br"),t("span",[e._v("价格: "+e._s(e.format(e.cost,2))+" 奇点")])])},R=[],L=function(){var e=this,t=e._self._c;return t("button",e._g({staticClass:"o-primary-btn",class:e.classObject},e.$listeners),[e._t("default")],2)},q=[],$={name:"PrimaryButton",props:{enabled:{type:Boolean,required:!1,default:!0}},computed:{classObject(){return{"o-primary-btn--disabled":!this.enabled}}}},H=$,X=n(1656),z=(0,X.A)(H,L,q,!1,null,null,null),K=z.exports,Q={name:"CondenserButton",components:{PrimaryButton:K},data(){return{effect:new Decimal,cost:new Decimal,isAffordable:!1}},methods:{update(){this.effect=Condenser.productionPerSecond,this.cost=Condenser.cost,this.isAffordable=Condenser.isAffordable},purchase(){EnergyMilestone.qols.canBeApplied?Condenser.buyMax():Condenser.purchase()}}},W=Q,Z=(0,X.A)(W,T,R,!1,null,null,null),J=Z.exports,Y=function(){var e=this,t=e._self._c;return t("PrimaryButton",{staticClass:"o-main-upgrade-btn",attrs:{enabled:e.isAffordable},on:{click:e.purchase}},[t("span",[e._v("增幅器")]),t("br"),t("span",[e._v("当前: "+e._s(e.formatX(e.effect,2)))]),t("br"),t("span",[e._v("价格: "+e._s(e.format(e.cost,2))+" 奇点")])])},ee=[],te={name:"AmplifierButton",components:{PrimaryButton:K},data(){return{effect:new Decimal,cost:new Decimal,isAffordable:!1}},methods:{update(){this.effect=Amplifier.multiplier,this.cost=Amplifier.cost,this.isAffordable=Amplifier.isAffordable},purchase(){EnergyMilestone.qols.canBeApplied?Amplifier.buyMax():Amplifier.purchase()}}},ne=te,re=(0,X.A)(ne,Y,ee,!1,null,null,null),ie=re.exports,oe=function(){var e=this,t=e._self._c;return null!==e.message?t("div",{staticClass:"l-modal"},[t("div",{staticClass:"c-modal-message",domProps:{innerHTML:e._s(e.message)}}),t("div",{staticClass:"c-modal-confirm-btn",on:{click:e.confirm}},[e._v(" 确认 ")])]):e._e()},ae=[],se={name:"MessageModal",data(){return{message:null}},methods:{update(){this.message=Modal.message},confirm(){Modal.confirm()}}},ce=se,le=(0,X.A)(ce,oe,ae,!1,null,null,null),ue=le.exports,fe=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"a-save-info"}},[e.showSaveInfo?t("div",{staticClass:"l-save-info"},[t("span",[e._v("存档中...")]),t("span",{staticClass:"c-save-icon"},[e._v("")])]):e._e()])},me=[],pe={name:"SaveInfo",data(){return{showSaveInfo:!1}},methods:{update(){this.showSaveInfo=GameStorage.timeSinceLastSave<=3e3&&GameStorage.hasSaved}}},he=pe,de=(0,X.A)(he,fe,me,!1,null,null,null),ye=de.exports,ge=function(){var e=this,t=e._self._c;return t("PrimaryButton",{staticClass:"c-first-reset",attrs:{enabled:e.canReset},on:{click:e.reset}},[e._v(" "+e._s(e.text)+" ")])},we=[],De={name:"FirstResetButton",components:{PrimaryButton:K},data(){return{canReset:!1,gainedEnergy:new Decimal,nextAt:new Decimal}},computed:{text(){return this.canReset?`重置奇点、凝聚器和增幅器，但获得 ${format(this.gainedEnergy,2)} 能量\n          (下个需要 ${format(this.nextAt,2,2)} 奇点)`:`达到 ${format(this.nextAt,2,2)} 奇点以重置`}},methods:{update(){this.canReset=FirstReset.canReset,this.canReset?(this.gainedEnergy=FirstReset.gainedEnergy.minus(player.energy),this.nextAt=FirstReset.energyToSingularities(FirstReset.gainedEnergy.add(1))):this.nextAt=FirstReset.energyToSingularities(player.energy.add(1))},reset(){FirstReset.reset()}}},ve=De,be=(0,X.A)(ve,ge,we,!1,null,null,null),Ee=be.exports,Me=function(){var e=this,t=e._self._c;return t("div",{staticClass:"c-energy-milstone",class:e.unlockClass},[t("DescriptionDisplay",{attrs:{config:e.config}}),t("EffectDisplay",{attrs:{config:e.config}}),t("span",[e._v("需求: "+e._s(e.format(e.requirement,2))+" 能量")])],1)},Ce=[],_e=function(){var e=this,t=e._self._c;return e.isVisible?t("span",{class:e.classObject},[e._v(" "+e._s(e.title)+" "+e._s(e.description)+" ")]):e._e()},xe=[];function Ae(e){let t=232344573*Math.pow(e%97,4.3);const n=15485863,r=521791;t=t*n%r;for(let i=0;i<e*e%90+90;i++)t=t*n%r;return t/r}function Oe(){return String.fromCharCode(Math.floor(50*Math.random())+192)}var Se={wordCycle(e,t=!1){const n=e.length,r=Math.floor(Date.now()/250)%(5*n),i=Date.now()/250%(5*n)%5,o=Math.floor(r/5);let a=e[o];if(i<.6?a=this.blendWords(e[(o+e.length-1)%e.length],e[o],(i+.6)/1.2):i>4.4&&(a=this.blendWords(e[o],e[(o+1)%e.length],(i-4.4)/1.2)),a=this.randomCrossWords(a,.1*Math.pow(i-2.5,4)-.6),t)return a;const s=Math.max(...e.map((e=>e.length))),c=(s-a.length)/2;return" ".repeat(Math.ceil(c))+a+" ".repeat(Math.floor(c))},randomCrossWords(e,t=.7){if(t<=0)return e;const n=e.split("");for(let r=0;r<n.length*t;r++){const e=Math.floor(Ae(Math.floor(Date.now()/500)%964372+1.618*r)*n.length);n[e]=Oe()}return n.join("")},blendWords(e,t,n){return n<=0?e:n>=1?t:e.substring(0,e.length*(1-n))+t.substring(t.length*(1-n),t.length)}};function Ne(e){return"number"===typeof e}function Pe(e){return"string"===typeof e}function je(e){return"function"===typeof e}function Fe(e){return e instanceof Decimal}var Ie={name:"DescriptionDisplay",props:{config:{type:Object,required:!1,default:void 0},name:{type:String,required:!1,default:void 0},length:{type:Number,required:!1,default:void 0},title:{type:String,required:!1,default:""}},data(){return{isVisible:!1,description:""}},computed:{classObject(){const e=this.name;if(void 0===e)return;const t={};return t[e]=!0,this.description.length>=this.length&&(t[`${e}--small-text`]=!0),t}},watch:{config:{immediate:!0,handler(e){this.updateFunction=()=>{};const t=e?.description,n=e=>e.charAt(0).toUpperCase()+e.slice(1);if(this.isVisible=void 0!==t,!this.isVisible)return;if(Pe(t))return void(this.description=n(t));if(!je(t))throw new Error(`DescriptionDisplay config.description has  unsupported type "${typeof t}"`);const r=t();if(Pe(r))return this.config.scrambleText?(this.description=n(r).replace("*",Se.wordCycle(this.config.scrambleText,!0)),void(this.updateFunction=()=>this.description=n(t()).replace("*",Se.wordCycle(this.config.scrambleText,!0)))):(this.description=n(r),void(this.updateFunction=()=>this.description=n(t())));throw new Error(`DescriptionDisplay config.description is a function which returns unsupported type "${typeof r}"`)}}},beforeCreate(){this.updateFunction=()=>{}},methods:{update(){this.updateFunction()}}},Ue=Ie,Ve=(0,X.A)(Ue,_e,xe,!1,null,null,null),ke=Ve.exports,Be=function(){var e=this,t=e._self._c;return e.isVisible&&void 0!==e.effectDisplay?t("span",[e.br?t("br"):e._e(),e._v(" "+e._s(e.labelDisplay)+e._s(e.effectDisplay)+" ")]):e._e()},Ge=[],Te={name:"EffectDisplay",props:{config:{type:Object,required:!1,default:void 0},br:{type:Boolean,required:!1},label:{type:String,default:"当前",required:!1},ignoreCapped:{type:Boolean,required:!1,default:!1}},data(){return{isVisible:!1,effectValue:0,cap:Number.MAX_VALUE,hasCap:!1}},computed:{reachedCap(){return this.hasCap&&this.reachedCapFunction()},labelDisplay(){return this.config.noLabel?"":`${this.reachedCap&&!this.ignoreCapped?"Capped":this.label}: `},effectDisplay(){return this.formatEffect(this.reachedCap?this.cap:this.effectValue)}},watch:{config:{immediate:!0,handler(e){this.updateEffect=()=>{},this.updateCap=()=>{};const t=e?.effect,n=e?.formatEffect;if(this.isVisible=void 0!==t&&void 0!==n,!this.isVisible)return;if(this.formatEffect=n,Ne(t))return void(this.effectValue=t);if(Fe(t))return void(this.effectValue=t.copy());if(!je(t))throw new Error(`EffectDisplay config.effect has  unsupported type "${typeof t}"`);const r=t();if(Ne(r))this.effectValue=r,this.updateEffect=()=>this.effectValue=t();else{if(!Fe(r))throw new Error(`EffectDisplay config.effect is a function which returns unsupported type "${typeof t}"`);this.effectValue=r.copy(),this.updateEffect=()=>this.effectValue.copyFrom(t())}let i=e.cap;if(void 0!==e.reachedCap&&(i=()=>this.effectValue,this.reachedCapFunction=e.reachedCap),void 0!==i){if(void 0===e.reachedCap&&(this.reachedCapFunction=Ne(r)?()=>this.effectValue>=this.cap:()=>this.effectValue.gte(this.cap)),Ne(i))return this.cap=i,void(this.hasCap=!0);if(Fe(i))return this.cap=Decimal.fromDecimal(i),void(this.hasCap=!0);if(je(i))return this.updateCap=()=>{this.cap=i(),this.hasCap=void 0!==this.cap},void this.updateCap();throw new Error(`EffectDisplay config.cap is a function which returns unsupported type "${typeof t}"`)}}}},beforeCreate(){this.updateEffect=()=>{},this.updateCap=()=>{}},methods:{update(){this.updateEffect(),this.updateCap()}}},Re=Te,Le=(0,X.A)(Re,Be,Ge,!1,null,null,null),qe=Le.exports,$e={name:"EnergyMilestoneComponent",props:{milestone:{type:Object,required:!0}},components:{DescriptionDisplay:ke,EffectDisplay:qe},data(){return{isReached:!1}},computed:{config(){return this.milestone.config},requirement(){return this.config.requirement},unlockClass(){return this.isReached?"":"c-energy-milestone--locked"}},methods:{update(){const e=this.milestone;this.isReached=e.isReached}}},He=$e,Xe=(0,X.A)(He,Me,Ce,!1,null,null,null),ze=Xe.exports,Ke=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"c-galaxy-title"},[e._v("星系")]),t("div",{staticClass:"l-galaxy-row"},[t("div",{staticClass:"c-galaxy-info"},[t("div",[e._v("星系数量："),t("span",{staticClass:"c-energy-amount"},[e._v(e._s(e.format(e.galaxies,2)))])]),t("div",[e._v("凝聚器 "+e._s(e.formatPow(2))+" ➜ "+e._s(e.formatPow(e.effect,2)))])]),t("div",{staticClass:"o-row-space"}),t("div",{staticClass:"c-galaxy-buttons"},[t("PrimaryButton",{staticClass:"c-buy-galaxy-button",class:e.unlockClass,attrs:{enabled:e.isAffordable},on:{click:e.purchase}},[e._v(" 购买星系"),e.canReset?t("span",[e._v("并进行一次重置")]):e._e(),t("br"),e._v(" 价格："+e._s(e.format(e.cost,2))+" 能量 ")]),t("div",{staticClass:"o-column-space"}),t("PrimaryButton",{staticClass:"c-buy-galaxy-button",class:e.unlockClass,attrs:{enabled:e.isAffordable},on:{click:e.buyMax}},[e._v(" 购买最大数量 ")])],1)])])},Qe=[],We={name:"GalaxyContainer",components:{PrimaryButton:K},data(){return{galaxies:new Decimal,effect:new Decimal,isAffordable:!1,cost:new Decimal,canReset:!1}},computed:{unlockClass(){return this.isAffordable?"c-buy-galaxy-button--affordable":""}},methods:{update(){this.galaxies.copyFrom(Galaxy.amount),this.effect=Galaxy.effect,this.isAffordable=Galaxy.isAffordable,this.cost=Galaxy.cost,this.canReset=FirstReset.canReset},purchase(){Galaxy.purchase()},buyMax(){Galaxy.buyMax()}}},Ze=We,Je=(0,X.A)(Ze,Ke,Qe,!1,null,null,null),Ye=Je.exports,et={name:"MainContent",components:{CondenserButton:J,AmplifierButton:ie,MessageModal:ue,SaveInfo:ye,FirstResetButton:Ee,EnergyMilestoneComponent:ze,GalaxyContainer:Ye},data(){return{singularities:new Decimal,energy:new Decimal,firstResetUnlocked:!1,galaxyUnlocked:!1}},computed:{energyMilestones(){const e=[],t=EnergyMilestone.all;for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}},methods:{update(){this.singularities.copyFrom(Currency.singularities),this.energy.copyFrom(Currency.energy),this.firstResetUnlocked=FirstReset.hasReached,this.galaxyUnlocked=Galaxy.isUnlocked}}},tt=et,nt=(0,X.A)(tt,B,G,!1,null,null,null),rt=nt.exports,it={name:"GameUIComponent",components:{MainContent:rt}},ot=it,at=(0,X.A)(ot,V,k,!1,null,null,null),st=at.exports;const ct=!1;function lt(e,t,n){const r=e.getter;n[t]=!0,e.getter=e=>(n[t],r.call(e,e))}Vue.mixin({methods:{format:format,formatInt:formatInt,formatX:formatX,formatPow:formatPow,emitClick(){this.$emit("click")},emitInput(e){this.$emit("input",e)},emitClose(){this.$emit("close")},on$(e,t){EventHub.ui.on(e,t,this)}},created(){this.update&&(this.on$(GAME_EVENT.UPDATE,this.update),ft.initialized&&this.update());const e=Object.create(null),t=this._computedWatchers;if(t){for(const n in t)lt(t[n],n,e);this.$recompute=t=>e[t]=!e[t],Vue.observable(e)}},destroyed(){EventHub.ui.offAll(this)}});const ut={complain(){this.checkReactivity(player,"player")},checkReactivity(e,t){if(void 0!==e&&null!==e){if(void 0!==e.__ob__)throw new Error(`Boi you fukked up - ${t} became REACTIVE (oh shite)`);for(const n in e){if(!Object.prototype.hasOwnProperty.call(e,n))continue;const r=e[n];"object"===typeof r&&this.checkReactivity(r,`${t}.${n}`)}}}},ft={events:[],flushPromise:void 0,initialized:!1,dispatch(e,t){const n=this.events.indexOf(e);-1!==n&&this.events.splice(n,1),e!==GAME_EVENT.UPDATE&&this.events.push([e,t]),this.flushPromise||(this.flushPromise=Promise.resolve().then(this.flushEvents.bind(this)))},flushEvents(){this.flushPromise=void 0;for(const e of this.events)EventHub.ui.dispatch(e[0],e[1]);EventHub.ui.dispatch(GAME_EVENT.UPDATE),ct&&ut.complain(),this.events=[]},update(){this.dispatch(GAME_EVENT.UPDATE)}},mt=new Vue({el:"#ui",components:{GameUIComponent:st},render:e=>e("GameUIComponent")});class pt{add(e,t){throw new NotImplementedError}subtract(e,t){throw new NotImplementedError}multiply(e,t){throw new NotImplementedError}divide(e,t){throw new NotImplementedError}max(e,t){throw new NotImplementedError}min(e,t){throw new NotImplementedError}eq(e,t){throw new NotImplementedError}gt(e,t){throw new NotImplementedError}gte(e,t){throw new NotImplementedError}lt(e,t){throw new NotImplementedError}lte(e,t){throw new NotImplementedError}}pt.number=new class extends pt{add(e,t){return e+t}subtract(e,t){return e-t}multiply(e,t){return e*t}divide(e,t){return e/t}max(e,t){return Math.max(e,t)}min(e,t){return Math.min(e,t)}eq(e,t){return e===t}gt(e,t){return e>t}gte(e,t){return e>=t}lt(e,t){return e<t}lte(e,t){return e<=t}},pt.decimal=new class extends pt{add(e,t){return Decimal.add(e,t)}subtract(e,t){return Decimal.subtract(e,t)}multiply(e,t){return Decimal.multiply(e,t)}divide(e,t){return Decimal.divide(e,t)}max(e,t){return Decimal.max(e,t)}min(e,t){return Decimal.min(e,t)}eq(e,t){return Decimal.eq(e,t)}gt(e,t){return Decimal.gt(e,t)}gte(e,t){return Decimal.gte(e,t)}lt(e,t){return Decimal.lt(e,t)}lte(e,t){return Decimal.lte(e,t)}};class ht{get value(){throw new NotImplementedError}set value(e){throw new NotImplementedError}get operations(){throw new NotImplementedError}add(e){this.value=this.operations.add(this.value,e)}subtract(e){this.value=this.operations.max(this.operations.subtract(this.value,e),0)}multiply(e){this.value=this.operations.multiply(this.value,e)}divide(e){this.value=this.operations.divide(this.value,e)}eq(e){return this.operations.eq(this.value,e)}gt(e){return this.operations.gt(this.value,e)}gte(e){return this.operations.gte(this.value,e)}lt(e){return this.operations.lt(this.value,e)}lte(e){return this.operations.lte(this.value,e)}purchase(e){return!!this.gte(e)&&(this.subtract(e),!0)}bumpTo(e){this.value=this.operations.max(this.value,e)}dropTo(e){this.value=this.operations.min(this.value,e)}get startingValue(){throw new NotImplementedError}reset(){this.value=this.startingValue}}class dt extends ht{get operations(){return pt.decimal}get sign(){return this.value.sign}get layer(){return this.value.layer}get mag(){return this.value.mag}get startingValue(){return u.D0}}window.DecimalCurrency=dt,ht.singularities=new class extends dt{get value(){return player.singularities}set value(e){player.singularities=e,player.maxSingularities=player.maxSingularities.max(e)}get startingValue(){return u.D1}},ht.energy=new class extends dt{get value(){return player.energy}set value(e){player.energy=e}};const yt={_timeSinceLastSave:0,saveInterval:2e4,hasSaved:!1,get timeSinceLastSave(){return this._timeSinceLastSave},set timeSinceLastSave(e){this._timeSinceLastSave=e,this._timeSinceLastSave>=this.saveInterval&&this.save()},get saveKey(){return ct?"demo-dev-save":"demo-save"},init(){const e=localStorage.getItem(this.saveKey);if(null===e)return;const t=JSON.parse(e);player=N([Player.defaultStart,t])},save(){localStorage.setItem(this.saveKey,JSON.stringify(player)),this._timeSinceLastSave=0,this.hasSaved=!0},hardReset(){player=N([{},Player.defaultStart]),this.save()}},gt={_message:null,get message(){return this._message},show(e){this._message=e},confirm(){this._message=null}};class wt{get amount(){return player.amplifiers}set amount(e){player.amplifiers=e}get multiplier(){let e=EnergyMilestone.improveAmplifier2.canBeApplied?u.D2.pow(this.amount):this.amount.add(1);return e=e.timesEffectOf(EnergyMilestone.improveAmplifier),e}get cost(){return u.E1.pow(this.amount).times(u.E2)}get isAffordable(){return Currency.singularities.gte(this.cost)}purchase(){this.isAffordable&&(Currency.singularities.subtract(this.cost),this.amount=this.amount.add(1))}buyMax(){if(!this.isAffordable)return;const e=new LinearCostScaling(Currency.singularities.value,this.cost,u.E1);e.purchases.lte(0)||(Currency.singularities.subtract(e.totalCost),this.amount=this.amount.add(e.purchases))}}const Dt=new wt,vt={get gainedEnergy(){return player.maxSingularities.log10().div(3).pow(1.5).floor()},energyToSingularities(e){return e.root(1.5).times(3).pow10()},get canReset(){return this.gainedEnergy.gt(player.energy)},reset(){this.canReset&&(Currency.energy.value=Currency.energy.value.max(this.gainedEnergy),Currency.singularities.reset(),player.maxSingularities=u.D1,Condenser.amount=u.D0,Amplifier.amount=u.D0)},get hasReached(){return Currency.energy.gt(0)||Galaxy.amount.gt(0)}};class bt extends v{get requirement(){return this.config.requirement}get isReached(){return Currency.energy.gte(this.requirement)}get isEffectActive(){return this.isReached}}const Et=mapGameDataToObject(GameDatabase.energyMilestones,(e=>new bt(e))),Mt={get amount(){return player.galaxies},set amount(e){player.galaxies=e},get isUnlocked(){return EnergyMilestone.unlockGalaxy.canBeApplied||this.amount.gt(0)},get effect(){return u.D2.add(this.amount.timesEffectOf(EnergyMilestone.galaxyBoost))},get cost(){return u.D2.times(u.D5.pow(this.amount)).timesEffectOf(EnergyMilestone.galaxyCheaper).round()},get isAffordable(){return Currency.energy.gte(this.cost)},purchase(){this.isAffordable&&(FirstReset.reset(),Currency.energy.subtract(this.cost),this.amount=this.amount.add(1))},buyMax(){if(!this.isAffordable)return;const e=new LinearCostScaling(Currency.energy.value,this.cost,u.D5);e.purchases.lte(0)||(FirstReset.reset(),Currency.energy.subtract(e.totalCost),this.amount=this.amount.add(e.purchases))}};function Ct(){const e=Date.now()-player.lastUpdate;player.lastUpdate+=e,GameStorage.timeSinceLastSave+=e,Condenser.tick(e/1e3),GameUI.update(),EventHub.dispatch(GAME_EVENT.GAME_TICK_AFTER)}function _t(){GameUI.initialized=!0,GameStorage.init(),setInterval((()=>Ct()),33)}function xt(e){for(const t in e){if("default"===t)continue;const n=e[t],r=window[t];if(void 0!==r)throw`Property ${t} already exists in global context`;window[t]=n}}xt(r),xt(i),xt(o),xt(a),_t()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,i,o){if(!r){var a=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],o=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||a>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,o<a&&(a=o));if(s){e.splice(u--,1);var l=i();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,i,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,o,a=r[0],s=r[1],c=r[2],l=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(c)var u=c(n)}for(t&&t(r);l<a.length;l++)o=a[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self["webpackChunkdemo"]=self["webpackChunkdemo"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(3368)}));r=n.O(r)})();
//# sourceMappingURL=app.3b120574.js.map